# æ¶æ„è®¾è®¡-è§£å†³æ–¹æ¡ˆ

# æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£ä¸»è¦ç”¨äºè®°å½•æ‰€æœ‰å·²çŸ¥çš„ä¸šåŠ¡åŠŸèƒ½çš„è§£å†³æ–¹æ¡ˆã€‚åŒä¸€ä¸ªä¸šåŠ¡çš„è§£å†³æ–¹æ¡ˆå¾€å¾€ä¸æ­¢ä¸€ç§ï¼Œæ‰€ä»¥è¿˜ä¼šåˆ—å‡ºæ¯ä¸€ç§è§£å†³æ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚

**ç¬¦å·è¯´æ˜**ï¼šâœ…ä»£è¡¨å·²å‘å¸ƒï¼›ğŸ™Œä»£è¡¨æ•´ç†ä¸­ï¼›â†—ï¸ä»£è¡¨è½¬è½½çš„ä»–äººä½œå“

| æ–‡æ¡£åç§°     | æ¶æ„è®¾è®¡-è§£å†³æ–¹æ¡ˆ |
| ------------ | ----------------- |
| æ–‡æ¡£åˆ†ç±»     | ç»éªŒæ€»ç»“-æ¶æ„è®¾è®¡ |
| ç‰ˆæœ¬å·       | 1.0               |
| æœ€åæ›´æ–°æ—¥æœŸ | 2023-12-24        |
| æœ€åæ›´æ–°äºº   | Gem Shen          |
| ç¼–åˆ¶æ—¥æœŸ     | 2024-02-03        |
| ç¼–åˆ¶äºº       | Gem Shen          |



## æ–‡æ¡£æ›´æ–°è®°å½•

| ç‰ˆæœ¬ | ç¼–åˆ¶/ä¿®æ”¹äºº | ä¿®æ”¹æ—¥æœŸ   | å¤‡æ³¨ï¼ˆåŸå› ã€è¿›ä¸€æ­¥çš„è¯´æ˜ç­‰ï¼‰               |
| --- | --------- | -------- | --------------------------------------- |
| 1.0  | Gem | 2021-02-03 | åˆç‰ˆï¼Œä½¿ç”¨[ProcessOnæ€ç»´å¯¼å›¾](https://www.processon.com/view/link/608e670f5653bb720e1ffee2)è®°å½• |
| 1.1  | Gem | 2024-02-03 | å¼€å§‹ç”¨æ–‡æ¡£è®°å½•ï¼Œè„‘å›¾ä¸é€‚åˆè®°å½•ç»†èŠ‚å’Œæœç´¢ã€‚|



# æ–‡ä»¶å¤„ç†

## PDFå¤„ç†





## åœ¨çº¿é¢„è§ˆ

kkFileView



## åœ¨çº¿ç¼–è¾‘

### OnlyOffice

[å®˜ç½‘æ–‡æ¡£](https://www.onlyoffice.com/zh/download-docs.aspx#docs-community)ï¼Œ

ç¼ºç‚¹ï¼šä¸å¼€æºï¼Œç¤¾åŒºç‰ˆæœ€å¤§è¿æ¥æ•°é™åˆ¶20



## æ–‡å­—è¯†åˆ«

### PaddleOcr

[GitHub](https://github.com/PaddlePaddle/PaddleOCR)ï¼Œ[Gitee](https://gitee.com/paddlepaddle/PaddleOCR)ã€‚ç›®å‰ä¸»æµçš„OCRåº“ï¼Œåœ¨å›½å†…ä¸“ä¸šé¢†åŸŸè®¤å¯åº¦ç›¸å½“çš„â¾¼ã€‚å¯ä»¥è¯†åˆ«è¿‘80ç§è¯­â¾”ï¼Œå¹¶ä¸”è¯†åˆ«å‡†ç¡®åº¦å’Œé€Ÿåº¦éƒ½éå¸¸â¾¼ã€‚

ç¼ºç‚¹æ˜¯åŸºäºPythonï¼Œå¯¹äºæ²¡æ¥è§¦è¿‡Pythonçš„äººæ¥è¯´æœ‰é¢å¤–å­¦ä¹ æˆæœ¬ã€‚



### Tess4J

Tess4Jå¯ä»¥å’ŒSpring Bootåšé›†æˆæ¥å®ç°OCRï¼ˆå…‰å­¦å­—ç¬¦è¯†åˆ«ï¼‰ï¼Œä»¥è¯†åˆ«å‡ºæœ¬åœ°å’Œè¿œç¨‹å›¾ç‰‡ä¸­çš„æ–‡å­—ã€‚[â†—ï¸åŸæ–‡é“¾æ¥](https://mp.weixin.qq.com/s/dWNrGc3MFispISC_3IB7iA)



# æ¶ˆæ¯é€šçŸ¥

## çŸ­ä¿¡

å¦‚é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡ã€è…¾è®¯äº‘çŸ­ä¿¡æœåŠ¡ã€



## ç”µå­é‚®ä»¶

SendGridé‚®ä»¶æœåŠ¡



## ä¼ä¸šå¾®ä¿¡



## å¾®ä¿¡



# è§„åˆ™å¼•æ“

### liteflow

**ä½¿ç”¨åœºæ™¯**

[å®˜ç½‘](https://liteflow.cc/pages/5816c5/#%E5%89%8D%E8%A8%80)

åœ¨æ¯ä¸ªå…¬å¸çš„ç³»ç»Ÿä¸­ï¼Œæ€»æœ‰ä¸€äº›æ‹¥æœ‰å¤æ‚ä¸šåŠ¡é€»è¾‘çš„ç³»ç»Ÿï¼Œè¿™äº›ç³»ç»Ÿæ‰¿è½½ç€æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œå‡ ä¹æ¯ä¸ªéœ€æ±‚éƒ½å’Œè¿™äº›æ ¸å¿ƒä¸šåŠ¡æœ‰å…³ï¼Œè¿™äº›æ ¸å¿ƒä¸šåŠ¡ä¸šåŠ¡é€»è¾‘å†—é•¿ï¼Œæ¶‰åŠå†…éƒ¨é€»è¾‘è¿ç®—ï¼Œç¼“å­˜æ“ä½œï¼ŒæŒä¹…åŒ–æ“ä½œï¼Œå¤–éƒ¨èµ„æºè°ƒå–ï¼Œå†…éƒ¨å…¶ä»–ç³»ç»ŸRPCè°ƒç”¨ç­‰ç­‰ã€‚æ—¶é—´ä¸€é•¿ï¼Œé¡¹ç›®å‡ ç»æ˜“æ‰‹ï¼Œç»´æŠ¤æˆæœ¬å°±ä¼šè¶Šæ¥è¶Šé«˜ã€‚å„ç§ç¡¬ä»£ç åˆ¤æ–­ï¼Œåˆ†æ”¯æ¡ä»¶è¶Šæ¥è¶Šå¤šã€‚ä»£ç çš„æŠ½è±¡ï¼Œå¤ç”¨ç‡ä¹Ÿè¶Šæ¥è¶Šä½ï¼Œå„ä¸ªæ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦å¾ˆé«˜ã€‚ä¸€å°æ®µé€»è¾‘çš„å˜åŠ¨ï¼Œä¼šå½±å“åˆ°å…¶ä»–æ¨¡å—ï¼Œéœ€è¦è¿›è¡Œå®Œæ•´å›å½’æµ‹è¯•æ¥éªŒè¯ã€‚å¦‚è¦çµæ´»æ”¹å˜ä¸šåŠ¡æµç¨‹çš„é¡ºåºï¼Œåˆ™è¦è¿›è¡Œä»£ç å¤§æ”¹åŠ¨è¿›è¡ŒæŠ½è±¡ï¼Œé‡æ–°å†™æ–¹æ³•ã€‚å®æ—¶çƒ­å˜æ›´ä¸šåŠ¡æµç¨‹ï¼Œå‡ ä¹å¾ˆéš¾å®ç°ã€‚

å¦‚ä½•æ‰“ç ´åƒµå±€ï¼ŸLiteFlowä¸ºè§£è€¦é€»è¾‘è€Œç”Ÿï¼Œä¸ºç¼–æ’è€Œç”Ÿï¼Œåœ¨ä½¿ç”¨LiteFlowä¹‹åï¼Œä½ ä¼šå‘ç°æ‰“é€ ä¸€ä¸ªä½è€¦åˆï¼Œçµæ´»çš„ç³»ç»Ÿä¼šå˜å¾—æ˜“å¦‚åæŒï¼

ä¼˜åŠ¿

å¦‚æœä½ è¦å¯¹å¤æ‚ä¸šåŠ¡é€»è¾‘è¿›è¡Œæ–°å†™æˆ–è€…é‡æ„ï¼Œç”¨LiteFlowæœ€åˆé€‚ä¸è¿‡ã€‚å®ƒæ˜¯ä¸€ä¸ªç¼–æ’å¼çš„è§„åˆ™å¼•æ“æ¡†æ¶ï¼Œç»„ä»¶ç¼–æ’ï¼Œå¸®åŠ©è§£è€¦ä¸šåŠ¡ä»£ç ï¼Œè®©æ¯ä¸€ä¸ªä¸šåŠ¡ç‰‡æ®µéƒ½æ˜¯ä¸€ä¸ªç»„ä»¶ã€‚

åˆ©ç”¨LiteFlowï¼Œå¯ä»¥å°†ç€‘å¸ƒæµå¼çš„ä»£ç ï¼Œè½¬å˜æˆä»¥ç»„ä»¶ä¸ºæ ¸å¿ƒæ¦‚å¿µçš„ä»£ç ç»“æ„ï¼Œè¿™ç§ç»“æ„çš„å¥½å¤„æ˜¯å¯ä»¥ä»»æ„ç¼–æ’ï¼Œç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´æ˜¯è§£è€¦çš„ï¼Œç»„ä»¶å¯ä»¥ç”¨è„šæœ¬æ¥å®šä¹‰ï¼Œç»„ä»¶ä¹‹é—´çš„æµè½¬å…¨é è§„åˆ™æ¥é©±åŠ¨ã€‚LiteFlowæ‹¥æœ‰å¼€æºè§„åˆ™å¼•æ“æœ€ä¸ºç®€å•çš„DSLè¯­æ³•ã€‚ååˆ†é’Ÿå°±å¯ä¸Šæ‰‹ã€‚



# å®‰å…¨

## Token

### JWT

JWTï¼ŒJson Web Tokenï¼Œä»¥jsonæ ¼å¼åœ¨webä¸Šä½¿ç”¨çš„tokenï¼Œä¸€èˆ¬ç”¨äºè®°å½•ç™»å½•æˆåŠŸåçš„ç”¨æˆ·ä¿¡æ¯ã€‚[åœ¨çº¿æ¼”ç¤º](https://jwt.io/)ã€‚

#### Hutool JwtUtil

Mavenä¾èµ–

```xml
<dependency>
    <groupId>cn.hutool</groupId>
    <artifactId>hutool-all</artifactId>
    <version>5.8.21</version>
</dependency>
```

å‚è€ƒä»£ç 

```java
package com.gem.common.jwt;

import cn.hutool.core.date.DateField;
import cn.hutool.core.date.DateTime;
import cn.hutool.json.JSONObject;
import cn.hutool.jwt.JWT;
import cn.hutool.jwt.JWTPayload;
import cn.hutool.jwt.JWTUtil;
import lombok.extern.slf4j.Slf4j;

import java.util.Map;

@Slf4j
public class JwtUtil {
    /**
     * ç›ï¼Œå¾ˆé‡è¦ï¼Œä¸èƒ½æ³„æ¼ï¼Œå»ºè®®æ”¾åˆ°é…ç½®æ–‡ä»¶ä¸­
     */
    private static final String SALT = "salt-test-123456";

    public static String createToken(Map<String, Object> data) {
        DateTime now = DateTime.now();
        DateTime expTime = now.offsetNew(DateField.HOUR, 12);
        // ç”Ÿæ•ˆæ—¶é—´ã€‚
        data.put(JWTPayload.ISSUED_AT, now);
        // å¤±æ•ˆæ—¶é—´ã€‚
        data.put(JWTPayload.EXPIRES_AT, expTime);
        String token = JWTUtil.createToken(data, SALT.getBytes());
        log.info("tokenåˆ›å»ºï¼š{}", token);
        return token;
    }

    /**
     * æ ¡éªŒtokenæ˜¯å¦æœ‰æ•ˆ
     */
    public static boolean checkToken(String token) {	
        JWT jwt = JWTUtil.parseToken(token).setKey(SALT.getBytes());
        // validateåŒ…å«äº†verify
        boolean validate = jwt.validate(0);
        log.info("tokenæ ¡éªŒç»“æœï¼š{}", validate);
        return validate;
    }

    /**
     * è·å– token payload
     */
    public static Map<String, Object> getPayload(String token) {
        JWT jwt = JWTUtil.parseToken(token).setKey(SALT.getBytes());
        JSONObject payloads = jwt.getPayloads();
        log.info("token payloadsï¼š{}", payloads);
        return payloads;
    }
}

//Junit5
public class JwtUtilTest {
    @Test
    void createToken() {
        Map<String, Object> map = new HashMap<>();
        map.put("userCode", "KD5379");
        map.put("phone", "15865784125");
        String token = JwtUtil.createToken(map);
        JwtUtil.getPayload(token);
        JwtUtil.checkToken(token);
    }
}

17:16:02.659 [main] INFO com.gem.common.jwt.JwtUtil - tokenåˆ›å»ºï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJwaG9uZSI6IjE1ODY1Nzg0MTI1IiwiZXhwIjoxNzA2OTk0OTYyLCJpYXQiOjE3MDY5NTE3NjIsInVzZXJDb2RlIjoiS0Q1Mzc5In0.5Nb057C9t4dzA8nAUwH6plYzVB9nNorAo6H_ahsYHvo
17:16:02.678 [main] INFO com.gem.common.jwt.JwtUtil - token payloadsï¼š{"phone":"15865784125","exp":1706994962,"iat":1706951762,"userCode":"KD5379"}
17:16:02.683 [main] INFO com.gem.common.jwt.JwtUtil - tokenæ ¡éªŒç»“æœï¼štrue
```

[â†—ï¸ä½¿ç”¨hutoolå·¥å…·ç±»jwtç”Ÿæˆtoken](https://blog.csdn.net/weixin_45724648/article/details/132169616)



#### auth0 java-jwt

Mavenä¾èµ–

```xml
<dependency>
    <groupId>com.auth0</groupId>
    <artifactId>java-jwt</artifactId>
    <version>3.14.0</version>
</dependency>
```

å‚è€ƒä»£ç 

```java
package com.mashibing.internalcommon.util;


import com.auth0.jwt.JWT;
import com.auth0.jwt.JWTCreator;
import com.auth0.jwt.algorithms.Algorithm;
import com.auth0.jwt.exceptions.AlgorithmMismatchException;
import com.auth0.jwt.exceptions.SignatureVerificationException;
import com.auth0.jwt.exceptions.TokenExpiredException;
import com.auth0.jwt.interfaces.Claim;
import com.auth0.jwt.interfaces.DecodedJWT;
import com.mashibing.internalcommon.dto.TokenResult;

import java.util.Calendar;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;

public class JwtUtils {

    // ç›
    private static final String SIGN = "CPFmsb!@#$$";

    private static final String JWT_KEY_PHONE = "phone";

    // ä¹˜å®¢æ˜¯1ï¼Œå¸æœºæ˜¯2
    private static final String JWT_KEY_IDENTITY = "identity";

    // tokenç±»å‹
    private static final String JWT_TOKEN_TYPE = "tokenType";

    private static final String JWT_TOKEN_TIME = "tokenTime";

    // ç”Ÿæˆtoken
    public static String generateToken(String phone, String identity, String tokenType) {
        Map<String, String> map = new HashMap<>();
        map.put(JWT_KEY_PHONE, phone);
        map.put(JWT_KEY_IDENTITY, identity);
        map.put(JWT_TOKEN_TYPE, tokenType);
        // é˜²æ­¢æ¯æ¬¡ç”Ÿæˆçš„tokenä¸€æ ·ã€‚
        map.put(JWT_TOKEN_TIME, Calendar.getInstance().getTime().toString());

        JWTCreator.Builder builder = JWT.create();
        // æ•´åˆmap
        map.forEach(
                (k, v) -> {
                    builder.withClaim(k, v);
                }
        );
        // ç”Ÿæˆ token
        String sign = builder.sign(Algorithm.HMAC256(SIGN));

        return sign;
    }


    // è§£ætoken
    public static TokenResult parseToken(String token) {
        DecodedJWT verify = JWT.require(Algorithm.HMAC256(SIGN)).build().verify(token);
        String phone = verify.getClaim(JWT_KEY_PHONE).asString();
        String identity = verify.getClaim(JWT_KEY_IDENTITY).asString();

        TokenResult tokenResult = new TokenResult();
        tokenResult.setPhone(phone);
        tokenResult.setIdentity(identity);
        return tokenResult;

    }

    /**
     * æ ¡éªŒtokenï¼Œä¸»è¦åˆ¤æ–­tokenæ˜¯å¦å¼‚å¸¸
     *
     * @param token
     * @return
     */
    public static TokenResult checkToken(String token) {
        TokenResult tokenResult = null;
        try {
            tokenResult = JwtUtils.parseToken(token);
        } catch (Exception e) {

        }
        return tokenResult;
    }

    public static void main(String[] args) {
        String s = generatorToken("13910733521", "1", "accessToken");
        System.out.println("ç”Ÿæˆçš„tokenï¼š" + s);
        System.out.println("è§£æ-----------------");
        TokenResult tokenResult = parseToken(s);
        System.out.println("æ‰‹æœºå·ï¼š" + tokenResult.getPhone());
        System.out.println("èº«ä»½ï¼š" + tokenResult.getIdentity());
    }
}

```







## è®¤è¯



## åŠ è§£å¯†



## é˜²åç¼–è¯‘
